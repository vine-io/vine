<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Vine â€“ å¿«é€Ÿå¼€å§‹</title>
    <link>https://vine-io.github.io/vine/docs/quickstart/</link>
    <description>Recent content in å¿«é€Ÿå¼€å§‹ on Vine</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 29 Dec 2020 10:22:20 +0800</lastBuildDate>
    
	  <atom:link href="https://vine-io.github.io/vine/docs/quickstart/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: æ¡†æ¶ç®€ä»‹</title>
      <link>https://vine-io.github.io/vine/docs/quickstart/overview/</link>
      <pubDate>Thu, 26 Aug 2021 16:07:00 +0800</pubDate>
      
      <guid>https://vine-io.github.io/vine/docs/quickstart/overview/</guid>
      <description>
        
        
        &lt;p&gt;&lt;a href=&#34;https://opensource.org/licenses/Apache-2.0&#34;&gt;&lt;img src=&#34;https://img.shields.io/:license-apache-blue.svg&#34; alt=&#34;License&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://pkg.go.dev/github.com/vine-io/vine?tab=doc&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/go.dev-reference-007d9c?logo=go&amp;amp;logoColor=white&amp;amp;style=flat-square&#34; alt=&#34;Go.Dev reference&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://travis-ci.org/vine-io/vine&#34;&gt;&lt;img src=&#34;https://api.travis-ci.org/vine-io/vine.svg?branch=master&#34; alt=&#34;Travis CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://goreportcard.com/report/github.com/vine-io/vine&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/vine-io/vine&#34; alt=&#34;Go Report Card&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Vine (&lt;em&gt;/vaÉªn/&lt;/em&gt;) ä¸€å¥—ç®€å•ã€é«˜æ•ˆã€å¯æ’æ‹”çš„åˆ†å¸ƒå¼ RPC æ¡†æ¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Vine (è‘¡è„æ ‘ ğŸ‡) : æˆ‘ä»¬å¸Œæœ›å®ƒèƒ½åƒçš„å®ƒåå­—ä¸€æ ·ï¼Œå¤šèŠ‚æœå­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Vine&lt;/strong&gt; åŸºäº &lt;a href=&#34;https://github.com/asim/go-micro&#34;&gt;go-micro&lt;/a&gt; æ¡†æ¶ï¼Œå› æ­¤ç»§æ‰¿äº†å®ƒçš„ä¼˜ç‚¹ã€‚å¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œè£å‰ªå’Œæ”¹è¿›ï¼Œå¢åŠ æ€§èƒ½å’Œå¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¶æ„å›¾&#34;&gt;æ¶æ„å›¾&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;vine%E6%9E%B6%E6%9E%84%E5%9B%BE.png&#34; alt=&#34;vineæ¶æ„å›¾&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;åŠŸèƒ½&#34;&gt;åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Vine&lt;/strong&gt; æŠ½è±¡åŒ–åˆ†å¸ƒå¼ç³»ç»Ÿçš„å†…éƒ¨ç»†èŠ‚. ä»¥ä¸‹æ˜¯ä¸»è¦åŠŸèƒ½.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;èº«ä»½éªŒè¯ (Authentication)&lt;/strong&gt; - èº«ä»½éªŒè¯å’Œæˆæƒä½œä¸ºä¸€ç­‰å…¬æ°‘è€Œå­˜åœ¨ã€‚èº«ä»½éªŒè¯å’Œæˆæƒé€šè¿‡ä¸ºæ¯ä¸ªæœåŠ¡æä¾›ä¸€ä¸ªèº«ä»½å’Œè¯ä¹¦æ¥ç¡®ä¿å†…éƒ¨æœåŠ¡å®‰å…¨ã€‚å…¶ä¸­æµ·åŒ…æ‹¬åŸºäºè§„åˆ™çš„è®¿é—®æ§åˆ¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŠ¨æ€é…ç½® (Dynamic Config)&lt;/strong&gt; - ä»ä»»æ„åœ°æ–¹åŠ è½½å’Œçƒ­åŠ è½½åŠ¨æ€é…ç½®ã€‚é…ç½®æ¥å£æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥ä»ä»»ä½•æºï¼ˆå¦‚ç¯å¢ƒå˜é‡ï¼Œæ–‡ä»¶ï¼Œetcdï¼‰åŠ è½½åº”ç”¨çº§åˆ«é…ç½®ã€‚åŒæ—¶æ”¯æŒåˆå¹¶æºã€ç”šè‡³å®šä¹‰å›é€€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®å­˜å‚¨ (Dao)&lt;/strong&gt; - ä¸€ä¸ªç®€å•çš„æ•°æ®å­˜å‚¨æ¥å£ï¼Œç”¨äºæŸ¥è¯¢ï¼Œåˆ›å»ºï¼Œåˆ é™¤æ•°æ®è®°å½•ã€‚å†…ç½® memoryï¼Œfileï¼ŒpostgresSQL ç­‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¼“å­˜æ¥å£ (Cache)&lt;/strong&gt; - æ”¯æŒå†…éƒ¨æ•°æ®ç¼“å­˜ï¼Œä¿å­˜ä¸´æ—¶æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡å‘ç° (Service discovery)&lt;/strong&gt; - è‡ªåŠ¨æœåŠ¡æ³¨å†Œå’Œåç§°è§£æã€‚æœåŠ¡å‘ç°æ˜¯å¾®æœåŠ¡å¼€å‘çš„æ ¸å¿ƒåŠŸèƒ½ã€‚å½“æœåŠ¡Aä¸æœåŠ¡Bé€šè®¯æ—¶ï¼Œéœ€è¦çŸ¥é“æœåŠ¡Bçš„IPåœ°å€ç­‰ä¿¡æ¯ã€‚&lt;strong&gt;Vine&lt;/strong&gt; å†…ç½®(mdns)ä½œä¸ºæœåŠ¡å‘ç°ç»„ä»¶ï¼Œå®ƒæ˜¯é›¶é…ç½®ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡ (Load Balancing)&lt;/strong&gt; - åŸºäºæœåŠ¡å‘ç°çš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ã€‚å½“å†…éƒ¨å­˜åœ¨å¤šä¸ªæœåŠ¡å®ä¾‹çš„åœ°å€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼ç¡®å®šè·¯ç”±åˆ°å“ªä¸ªèŠ‚ç‚¹ï¼Œé»˜è®¤ä½¿ç”¨éšæœºæŒ‡å®šå…¶ä¸­ä¸€ä¸ªåœ°å€ã€‚åŒæ—¶åœ¨è¯·æ±‚é”™è¯¯æ—¶é‡è¯•ä¸åŒçš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¶ˆæ¯ç¼–ç  (Message Encoding)&lt;/strong&gt; - åŸºäº&lt;code&gt;Content-Type&lt;/code&gt;çš„åŠ¨æ€æ¶ˆæ¯ç¼–ç ã€‚Codec ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æä¾› Go ç±»å‹çš„ç¼–ç å’Œè§£ç ï¼Œæ”¯æŒå„ç§ä¸åŒçš„ç±»å‹ã€‚é»˜è®¤ä½¿ç”¨ protobuf å’Œ jsonã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;gRPC ä¼ è¾“ (gRPC transport)&lt;/strong&gt; - åŸºäº gRPC çš„è¯·æ±‚å“åº”ï¼ŒåŒæ—¶æ”¯æŒåŒå‘æµã€‚&lt;strong&gt;Vine&lt;/strong&gt; ä¸ºåŒæ­¥é€šè®¯æä¾›ä¸€ä¸ªæŠ½è±¡ï¼Œä½¿å‘å‘æœåŠ¡çš„è¯·æ±‚è¢«è‡ªåŠ¨è§£æã€è´Ÿè½½å‡è¡¡ã€æ‹¨å·å’ŒæµåŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼‚æ­¥æ¶ˆæ¯ (Async Messaging)&lt;/strong&gt; - å†…ç½®è®¢é˜…å‘å¸ƒæ¨¡å‹ï¼Œä½œä¸ºå¼‚æ­¥é€šè®¯å’Œäº‹ä»¶é©±åŠ¨æ¶æ„ã€‚äº‹ä»¶é€šçŸ¥å±äºå¾®æœåŠ¡å¼€å‘ä¸­çš„æ ¸å¿ƒæ¨¡å¼ã€‚é»˜è®¤çš„æ¶ˆæ¯ç³»ç»Ÿä¸º HTTP äº‹ä»¶ä»£ç†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŒæ­¥ (Synchronization)&lt;/strong&gt; - åˆ†å¸ƒå¼ç³»ç»Ÿé€šå¸¸ä»¥æœ€ç»ˆä¸€è‡´æ€§çš„æ–¹å¼æ„å»ºã€‚å†…ç½®çš„ &lt;strong&gt;Sync&lt;/strong&gt; æ¥å£å®ç°åˆ†å¸ƒå¼é”å’Œé¢†å¯¼é€‰ä¸¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯æ’æ‹”æ¥å£ (Pluggable Interfaces)&lt;/strong&gt; - å¾—ç›Šäº Go è¯­è¨€çš„æŠ½è±¡ç‰¹æ€§ã€‚ &lt;strong&gt;Vine&lt;/strong&gt; ä¸ºæ¯ä¸ªæ¨¡å—æä¾›æŠ½è±¡æ¥å£ï¼Œæ­£å› ä¸ºå¦‚æ­¤ï¼Œè¿™äº›æ¥å£éƒ½æ˜¯å¯æ’æ‹”çš„ã€‚å¯ä»¥åœ¨ &lt;a href=&#34;https://github.com/vine-io/plugins&#34;&gt;github.com/vine-io/plugins&lt;/a&gt; æŸ¥è¯¢ä½ éœ€è¦çš„æ’ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¸å¯&#34;&gt;è®¸å¯&lt;/h2&gt;
&lt;p&gt;Vine éµå®ˆ MIT License å¼€æºè®¸å¯.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: æ–°å»ºæœåŠ¡</title>
      <link>https://vine-io.github.io/vine/docs/quickstart/new/</link>
      <pubDate>Thu, 26 Aug 2021 16:08:25 +0800</pubDate>
      
      <guid>https://vine-io.github.io/vine/docs/quickstart/new/</guid>
      <description>
        
        
        &lt;p&gt;&lt;strong&gt;Service&lt;/strong&gt; æ˜¯å…¶ä»–ä¸»è¦ç»„ä»¶æœåŠ¡çš„é¡¶å±‚æ¥å£ï¼Œå®ƒå°†æ‰€æœ‰åº•å±‚åŒ…åŒ…è£¹åœ¨ä¸€ä¸ªæ›´åŠ æ–¹ä¾¿çš„æ¥å£ä¸­ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Service &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;interface&lt;/span&gt; {
	&lt;span style=&#34;color:#6272a4&#34;&gt;// æœåŠ¡åç§°
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;() &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;
	&lt;span style=&#34;color:#6272a4&#34;&gt;// åˆå§‹åŒ–é€‰é¡¹
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;Init&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;Option)
	&lt;span style=&#34;color:#6272a4&#34;&gt;// è¿”å›å½“å‰é€‰é¡¹
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;Options&lt;/span&gt;() Options
	&lt;span style=&#34;color:#6272a4&#34;&gt;// è¿”å›æœåŠ¡çš„ Client æ¥å£
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;Client&lt;/span&gt;() client.Client
	&lt;span style=&#34;color:#6272a4&#34;&gt;// è¿”å›æœåŠ¡çš„ Server æ¥å£
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;Server&lt;/span&gt;() server.Server
	&lt;span style=&#34;color:#6272a4&#34;&gt;// å¯åŠ¨æœåŠ¡
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;Run&lt;/span&gt;() &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;
	&lt;span style=&#34;color:#6272a4&#34;&gt;// å®ç° server.Server æ¥å£
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;	&lt;span style=&#34;color:#50fa7b&#34;&gt;String&lt;/span&gt;() &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¼€å§‹&#34;&gt;å¼€å§‹&lt;/h2&gt;
&lt;h3 id=&#34;1åˆå§‹åŒ–&#34;&gt;1.åˆå§‹åŒ–&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;service.NewService&lt;/code&gt; åˆ›å»ºæœåŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/vine&amp;#34;&lt;/span&gt;

service = vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºæ—¶ä½¿ç”¨é€‰é¡¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;service = vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
    vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;greeter&amp;#34;&lt;/span&gt;),
    vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Version&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;latest&amp;#34;&lt;/span&gt;),
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ”¯æŒçš„é€‰é¡¹ï¼Œè¯·çœ‹&lt;a href=&#34;https://pkg.go.dev/github.com/vine-io/vine/service#Option&#34;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Vine&lt;/strong&gt; åŒæ—¶æ”¯æŒä½¿ç”¨&lt;code&gt;service.Flags&lt;/code&gt; æ¥æä¾›å‘½ä»¤è¡Œå‚æ•°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; (
	&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;

	&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/cli&amp;#34;&lt;/span&gt;
	&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/vine&amp;#34;&lt;/span&gt;
)

	service &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
		vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Flags&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;cli.StringFlag{
			Name:  &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;environment&amp;#34;&lt;/span&gt;,
			Usage: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;The environment&amp;#34;&lt;/span&gt;,
		}),
	)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;service.Init&lt;/code&gt; è§£æå‚æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨ &lt;code&gt;service.Action&lt;/code&gt; é€‰é¡¹æ¥è®¿é—®å‚æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;	service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Init&lt;/span&gt;(
		vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Action&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt;(c &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;cli.Context) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt; {
			env &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; c.&lt;span style=&#34;color:#50fa7b&#34;&gt;String&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;environment&amp;#34;&lt;/span&gt;)
			&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;len&lt;/span&gt;(env) &amp;gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt; {
				fmt.&lt;span style=&#34;color:#50fa7b&#34;&gt;Println&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Environment set to&amp;#34;&lt;/span&gt;, env)
			}

			&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt;
		}),
	)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;service.Init&lt;/code&gt; æ”¯æŒçš„é€‰æ‹©çœ‹&lt;a href=&#34;https://pkg.go.dev/github.com/vine-io/vine/service/config/cmd#pkg-variables&#34;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;2å®šä¹‰-api&#34;&gt;2.å®šä¹‰ API&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ protobuf æ–‡ä»¶å®šä¹‰æœåŠ¡çš„ API æ¥å£ã€‚å®ƒå¯ä»¥èƒ½ä¾¿åˆ©çš„æä¾›ä¸¥è°¨çš„ API æ¥å£ï¼ŒåŒæ—¶ä¸ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æä¾›å…·ä½“çš„æ¥å£ã€‚
greeter.proto&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-protobuf&#34; data-lang=&#34;protobuf&#34;&gt;syntax &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;proto3&amp;#34;&lt;/span&gt;;

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;service&lt;/span&gt; Greeter {
	&lt;span style=&#34;color:#ff79c6&#34;&gt;rpc&lt;/span&gt; Hello(Request) &lt;span style=&#34;color:#ff79c6&#34;&gt;returns&lt;/span&gt; (Response) {}
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Request&lt;/span&gt; {
	&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; name &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;;
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;message&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Response&lt;/span&gt; {
	&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; greeting &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª Greeter æœåŠ¡ï¼Œæä¾› Hello æ–¹æ³•ã€‚Request å’Œ Response æ˜¯ Hello æ–¹æ³•çš„å…¥å‚å’Œè¿”å›å€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3ç”Ÿæˆ-api-æ¥å£&#34;&gt;3.ç”Ÿæˆ API æ¥å£&lt;/h3&gt;
&lt;p&gt;ä½ éœ€è¦ä»¥ä¸‹çš„å·¥å…·æ¥ç”Ÿæˆ protobuf ä»£ç &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/protocolbuffers/protobuf&#34;&gt;protoc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/vine-io/vine/tree/master/cmd/protoc-gen-gogo&#34;&gt;protoc-gen-gogo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/vine-io/vine/tree/master/cmd/protoc-gen-vine&#34;&gt;protoc-gen-vine&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨ protocã€protoc-gen-gogoã€protoc-gen-vine æ¥ç”Ÿæˆ protobuf code&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;go get github.com/gogo/protobuf
go get github.com/vine-io/vine/cmd/protoc-gen-gogo
go get github.com/vine-io/vine/cmd/protoc-gen-vine
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;protoc -I&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src -I&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src/github.com/gogo/protobuf/protobuf --gogo_out&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;:. --vine_out&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;. greeter.proto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®ƒä¼šç”Ÿæˆä»¥ä¸‹ä»£ç :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Request &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;struct&lt;/span&gt; {
	Name &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;`protobuf:&amp;#34;bytes,1,opt,name=name&amp;#34; json:&amp;#34;name,omitempty&amp;#34;`&lt;/span&gt;
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Response &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;struct&lt;/span&gt; {
	Greeting &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;`protobuf:&amp;#34;bytes,2,opt,name=greeting&amp;#34; json:&amp;#34;greeting,omitempty&amp;#34;`&lt;/span&gt;
}

&lt;span style=&#34;color:#6272a4&#34;&gt;// Client API for Greeter service
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; GreeterClient &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;interface&lt;/span&gt; {
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Hello&lt;/span&gt;(ctx context.Context, in &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Request, opts &lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;client.CallOption) (&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Response, &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;)
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; greeterClient &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;struct&lt;/span&gt; {
	c           client.Client
	serviceName &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;NewGreeterClient&lt;/span&gt;(serviceName &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;, c client.Client) GreeterClient {
	&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; c &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt; {
		c = client.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewClient&lt;/span&gt;()
	}
	&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;len&lt;/span&gt;(serviceName) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt; {
		serviceName = &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;greeter&amp;#34;&lt;/span&gt;
	}
	&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;greeterClient{
		c:           c,
		serviceName: serviceName,
	}
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; (c &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;greeterClient) &lt;span style=&#34;color:#50fa7b&#34;&gt;Hello&lt;/span&gt;(ctx context.Context, in &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Request, opts &lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;client.CallOption) (&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Response, &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;) {
	req &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; c.c.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewRequest&lt;/span&gt;(c.serviceName, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Greeter.Hello&amp;#34;&lt;/span&gt;, in)
	out &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;new&lt;/span&gt;(Response)
	err &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; c.c.&lt;span style=&#34;color:#50fa7b&#34;&gt;Call&lt;/span&gt;(ctx, req, out, opts&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;)
	&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; err &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt; {
		&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt;, err
	}
	&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; out, &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt;
}

&lt;span style=&#34;color:#6272a4&#34;&gt;// Server API for Greeter service
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; GreeterHandler &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;interface&lt;/span&gt; {
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Hello&lt;/span&gt;(context.Context, &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Request, &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Response) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;RegisterGreeterHandler&lt;/span&gt;(s server.Server, hdlr GreeterHandler) {
	s.&lt;span style=&#34;color:#50fa7b&#34;&gt;Handle&lt;/span&gt;(s.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewHandler&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;Greeter{hdlr}))
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;4å®ç°-handler&#34;&gt;4.å®ç° handler&lt;/h3&gt;
&lt;p&gt;handler.go&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; proto &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine/examples/service/proto&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Greeter &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;struct&lt;/span&gt;{}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; (g &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Greeter) &lt;span style=&#34;color:#50fa7b&#34;&gt;Hello&lt;/span&gt;(ctx context.Context, req &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;pb.Request, rsp &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;pb.Response) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt; {
	rsp.Greeting = &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Hello &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; req.Name
	&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ª handler å°†è¢«æ³¨å†Œä¸ºæœåŠ¡ï¼Œå°±åƒ http.Handler.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;service = vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
    vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;greeter&amp;#34;&lt;/span&gt;),
)

pb.&lt;span style=&#34;color:#50fa7b&#34;&gt;RegisterGreeterHandler&lt;/span&gt;(service.Server, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;new&lt;/span&gt;(Greeter))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;5å¯åŠ¨æœåŠ¡&#34;&gt;5.å¯åŠ¨æœåŠ¡&lt;/h3&gt;
&lt;p&gt;æœåŠ¡é€šè¿‡è°ƒç”¨ &lt;code&gt;service.Run&lt;/code&gt; æ¥å¯åŠ¨ã€‚å®ƒä¼šç»‘å®šåˆ°é…ç½®å‚æ•°æä¾›çš„åœ°å€ä¸Šå¹¶ä¸”ç›‘å¬è¯·æ±‚ã€‚
æœåŠ¡å¯åŠ¨æ—¶ä¼šé€šè¿‡ registry ç»„ä»¶æ³¨å†ŒæœåŠ¡ï¼Œåœ¨æ¥æ”¶åˆ° kill ä¿¡å·æ—¶æ³¨é”€æœåŠ¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; err &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Run&lt;/span&gt;(); err &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt; {
    log.&lt;span style=&#34;color:#50fa7b&#34;&gt;Fatal&lt;/span&gt;(err)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;6å®Œæ•´çš„æœåŠ¡ç«¯ä»£ç &#34;&gt;6.å®Œæ•´çš„æœåŠ¡ç«¯ä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;package&lt;/span&gt; main

&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; (
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;context&amp;#34;&lt;/span&gt;

        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/vine&amp;#34;&lt;/span&gt;
        pb &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/examples/service/proto&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Greeter &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;struct&lt;/span&gt;{}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; (g &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Greeter) &lt;span style=&#34;color:#50fa7b&#34;&gt;Hello&lt;/span&gt;(ctx context.Context, req &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;pb.Request, rsp &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;pb.Response) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt; {
        rsp.Greeting = &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Hello &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; req.Name
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt;
}

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;main&lt;/span&gt;() {
        service &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
                vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;greeter&amp;#34;&lt;/span&gt;),
        )

        service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Init&lt;/span&gt;()

        pb.&lt;span style=&#34;color:#50fa7b&#34;&gt;RegisterGreeterHandler&lt;/span&gt;(service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Server&lt;/span&gt;(), &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;new&lt;/span&gt;(Greeter))

        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; err &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Run&lt;/span&gt;(); err &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt; {
                log.&lt;span style=&#34;color:#50fa7b&#34;&gt;Fatal&lt;/span&gt;(err)
        }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h3&gt;
&lt;p&gt;æŸ¥è¯¢ä¸Šé¢çš„æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„ä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// åˆ›å»º greeter æœåŠ¡çš„å®¢æˆ·ç«¯
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;greeter &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; pb.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewGreeterService&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;greeter&amp;#34;&lt;/span&gt;, service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Client&lt;/span&gt;())

&lt;span style=&#34;color:#6272a4&#34;&gt;// è¯·æ±‚ Greeter çš„ Hello æ–¹æ³•
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;rsp, err &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; greeter.&lt;span style=&#34;color:#50fa7b&#34;&gt;Hello&lt;/span&gt;(context.&lt;span style=&#34;color:#50fa7b&#34;&gt;TODO&lt;/span&gt;(), &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;pb.Request{
	Name: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;John&amp;#34;&lt;/span&gt;,
})
&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; err &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;nil&lt;/span&gt; {
	fmt.&lt;span style=&#34;color:#50fa7b&#34;&gt;Println&lt;/span&gt;(err)
	&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt;
}

fmt.&lt;span style=&#34;color:#50fa7b&#34;&gt;Println&lt;/span&gt;(rsp.Greeting)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä½¿ç”¨-vine-å·¥å…·ç®¡ç†é¡¹ç›®&#34;&gt;ä½¿ç”¨ vine å·¥å…·ç®¡ç†é¡¹ç›®&lt;/h2&gt;
&lt;h3 id=&#34;åˆå§‹åŒ–é¡¹ç›®&#34;&gt;åˆå§‹åŒ–é¡¹ç›®&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºé¡¹ç›®ç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ mkdir -p &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src/example
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆå§‹åŒ–ç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ vine init --cluster
Creating resource  in &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src/example

.
â”œâ”€â”€ vine.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ .gitignore
â””â”€â”€ go.mod
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ›å»ºæœåŠ¡-echo&#34;&gt;åˆ›å»ºæœåŠ¡ echo&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ vine new service &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;   
Creating resource &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt; in &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src/example

.
â”œâ”€â”€ cmd
â”‚   â””â”€â”€ &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ pkg
â”‚   â”œâ”€â”€ runtime
â”‚   â”‚   â””â”€â”€ doc.go
â”‚   â””â”€â”€ &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;
â”‚       â”œâ”€â”€ plugin.go
â”‚       â”œâ”€â”€ app.go
â”‚       â”œâ”€â”€ server
â”‚       â”‚   â””â”€â”€ echo.go
â”‚       â”œâ”€â”€ service
â”‚       â”‚   â”œâ”€â”€ echo.go
â”‚       â”‚   â””â”€â”€ wire.go
â”‚       â””â”€â”€ dao
â”‚           â””â”€â”€ echo.go
â”œâ”€â”€ deploy
â”‚   â”œâ”€â”€ docker
â”‚   â”‚   â””â”€â”€ &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;
â”‚   â”‚       â””â”€â”€ Dockerfile
â”‚   â”œâ”€â”€ config
â”‚   â”‚   â””â”€â”€ echo.ini
â”‚   â””â”€â”€ systemd
â”‚       â””â”€â”€ echo.service
â”œâ”€â”€ proto
â”‚   â””â”€â”€ service
â”‚       â””â”€â”€ &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;
â”‚           â””â”€â”€ v1
â”‚               â””â”€â”€ echo.proto
â””â”€â”€ vine.toml


download protoc zip packages &lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;protoc-&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$VERSION&lt;/span&gt;-&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$PLATFORM&lt;/span&gt;.zip&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt; and install:

visit https://github.com/protocolbuffers/protobuf/releases

download protobuf &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; vine:

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;cd&lt;/span&gt; example

install dependencies:
        go get github.com/google/wire/cmd/wire
        go get github.com/gogo/protobuf
        go get github.com/vine-io/vine/cmd/protoc-gen-gogo
        go get github.com/vine-io/vine/cmd/protoc-gen-vine
        go get github.com/vine-io/vine/cmd/protoc-gen-validator
        go get github.com/vine-io/vine/cmd/protoc-gen-deepcopy
        go get github.com/vine-io/vine/cmd/protoc-gen-dao

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;cd&lt;/span&gt; example
        vine build &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç¼–è¯‘è¿è¡Œ-echo&#34;&gt;ç¼–è¯‘è¿è¡Œ echo&lt;/h3&gt;
&lt;p&gt;å…ˆè¦æˆ proto æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ vine build proto                                        
change directory &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src: 
protoc -I&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$GOPATH&lt;/span&gt;/src --gogo_out&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;:. --vine_out&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;:. --validator_out&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;:. example/proto/service/echo/v1/echo.proto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘ echo æœåŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ go mod vendor
$ vine build service --output&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;_output/echo  &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡ŒæœåŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ ./output/echo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ·»åŠ ç½‘å…³æœåŠ¡&#34;&gt;æ·»åŠ ç½‘å…³æœåŠ¡&lt;/h3&gt;
&lt;p&gt;æ–°å»ºæœåŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ vine new gateway api
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ go mod vendor
$ vine build service --output&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;_output/api api
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯åŠ¨ api&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ ./_output/api --enable-openapi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµè§ˆå™¨è®¿é—®åœ°å€ &lt;a href=&#34;127.0.0.1:8080/openapi-ui/&#34;&gt;127.0.0.1:8080/openapi-ui/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…³äº &lt;code&gt;vine&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·æ›´åŠ å…·ä½“çš„å†…å®¹å¯ä»¥å‚è€ƒ &lt;a href=&#34;https://vine-io.github.io/vine/docs/tools/vine/&#34;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: é¡¹ç›®ç»“æ„</title>
      <link>https://vine-io.github.io/vine/docs/quickstart/project/</link>
      <pubDate>Thu, 26 Aug 2021 16:11:18 +0800</pubDate>
      
      <guid>https://vine-io.github.io/vine/docs/quickstart/project/</guid>
      <description>
        
        
        &lt;p&gt;// TODO&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: é¡¹ç›®æ„å»º</title>
      <link>https://vine-io.github.io/vine/docs/quickstart/build/</link>
      <pubDate>Fri, 27 Aug 2021 09:06:02 +0800</pubDate>
      
      <guid>https://vine-io.github.io/vine/docs/quickstart/build/</guid>
      <description>
        
        
        &lt;p&gt;// TODO&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: å‚æ•°æ”¯æŒ</title>
      <link>https://vine-io.github.io/vine/docs/quickstart/options/</link>
      <pubDate>Tue, 29 Dec 2020 14:55:49 +0800</pubDate>
      
      <guid>https://vine-io.github.io/vine/docs/quickstart/options/</guid>
      <description>
        
        
        &lt;h2 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;åˆ›å»ºæ–°æœåŠ¡æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä¼ é€’å…¶ä»–å‚æ•°ï¼Œä¾‹å¦‚è®¾ç½®åç§°ï¼Œç‰ˆæœ¬ï¼ŒBrokerï¼ŒRegistry æˆ–è€…å­˜å‚¨ï¼Œä»¥ä¾¿ä¸æ‰€æœ‰å…¶ä»–å†…éƒ¨å®ç°ä¸€èµ·ä½¿ç”¨ã€‚
é€‰é¡¹é€šå¸¸å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Options &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;struct&lt;/span&gt; {
    Name        &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;
    Version     &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;
    Broker      broker.Broker
    Registry    registry.Registry
}


&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Option &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Options)

&lt;span style=&#34;color:#6272a4&#34;&gt;// set the name
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(n &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;) Option {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt;(o &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Options) {
        o.Name = n
    }
}

&lt;span style=&#34;color:#6272a4&#34;&gt;// set the broker
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Broker&lt;/span&gt;(b broker.Broker) Option {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt;(o &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Options) {
        o.Broker = b
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åè¿™å®‰è£…å¦‚ä¸‹æ–¹å¼è®¾ç½®è¿™äº›é€‰é¡¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;service &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
    vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;foobar&amp;#34;&lt;/span&gt;),
    vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Broker&lt;/span&gt;(broker),
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æœåŠ¡é€‰é¡¹&#34;&gt;æœåŠ¡é€‰é¡¹&lt;/h2&gt;
&lt;p&gt;åœ¨ &lt;strong&gt;Vine&lt;/strong&gt; ä¸­ï¼Œæˆ‘ä»¬æœ‰è®¸å¤šé€‰é¡¹å¯ä»¥è®¾ç½®ï¼ŒåŒ…æ‹¬ç”¨äºèº«ä»½éªŒè¯ï¼Œé…ç½®å’Œå­˜å‚¨ç­‰å†…å®¹çš„åŸºç¡€åŒ…ã€‚ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;service.Options()&lt;/code&gt; æ¥è®¿é—®è¿™äº›ã€‚&lt;/p&gt;
&lt;p&gt;authã€configã€registryã€store ç­‰åŒ…å°†é»˜è®¤ä¸ºæˆ‘ä»¬çš„é›¶ä¾èµ–æ’ä»¶ã€‚å¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡æˆ–è€…å‘½ä»¤è¡Œå‚æ•°æ¥é…ç½®å®ƒä»¬ï¼Œåœ¨æ‰§è¡Œ &lt;code&gt;service.Init()&lt;/code&gt; åç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;## as an env vars&lt;/span&gt;
&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;VINE_STORE&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;file go run main.go

&lt;span style=&#34;color:#6272a4&#34;&gt;## or as a flag&lt;/span&gt;
go run main.go --store&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;file
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨å†…éƒ¨ï¼Œå¯ä»¥é€šè¿‡é€‰é¡¹è®¿é—®å­˜å‚¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;service &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
    vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;foobar&amp;#34;&lt;/span&gt;),
)

service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Init&lt;/span&gt;()

store &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Options&lt;/span&gt;().Store
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Vine&lt;/strong&gt; æ¯ä¸ªå†…éƒ¨æ¥å£ä¸€èˆ¬éƒ½æœ‰å¯¹åº”çš„é€‰é¡¹ï¼Œåœ¨æ’ä»¶ä¸­ï¼Œé¢å¤–çš„é€‰é¡¹é€šå¸¸è¢«ä¿å­˜åœ¨ &lt;code&gt;context.Context&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: æ’ä»¶ä¸­å¿ƒ</title>
      <link>https://vine-io.github.io/vine/docs/quickstart/plugins/</link>
      <pubDate>Fri, 27 Aug 2021 09:08:02 +0800</pubDate>
      
      <guid>https://vine-io.github.io/vine/docs/quickstart/plugins/</guid>
      <description>
        
        
        &lt;h2 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Vine&lt;/strong&gt; æ„å»ºåœ¨ Go æ¥å£ä¹‹ä¸Šã€‚å› æ­¤è¿™äº›æ¥å£çš„å®ç°æ˜¯å¯æ’æ‹”çš„ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;Vine&lt;/strong&gt; åªæä¾›æ ¸å¿ƒä¸Šæ¯ä¸ªæ¥å£çš„å‡ ä¸ªå®ç°ï¼Œä½†å®ƒå®Œå…¨æ˜¯å¯æ’æ‹”çš„ã€‚è€Œé¢å¤–çš„å®ç°ä¿å­˜åœ¨ &lt;a href=&#34;https://github.com/vine-io/plugins&#34;&gt;plugins&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ·»åŠ æ’ä»¶&#34;&gt;æ·»åŠ æ’ä»¶&lt;/h2&gt;
&lt;p&gt;å¦‚æœè¦é›†æˆæ’ä»¶ï¼Œåªéœ€å°†å®ƒä»¬é“¾æ¥åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­å¹¶é‡æ–°ç”Ÿæˆã€‚
åˆ›å»º plugins.go æ–‡ä»¶å¹¶å¯¼å…¥æ‰€éœ€çš„æ’ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;package&lt;/span&gt; main

&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; (
    &lt;span style=&#34;color:#6272a4&#34;&gt;// consul registry
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    _ &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/plugins/registry/consul&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#6272a4&#34;&gt;// rabbitmq transport
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    _ &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/plugins/transport/rabbitmq&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#6272a4&#34;&gt;// kafka broker
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    _ &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/plugins/broker/kafka&amp;#34;&lt;/span&gt;
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡åŒ…å«æ’ä»¶æ–‡ä»¶æ¥æ„å»ºåº”ç”¨ç¨‹åºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;go build -o service main.go plugins.go
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æ’ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;service --registry&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;consul --transport&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;nats --broker&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;kafka
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…ä½¿ç”¨ç¯å¢ƒå˜é‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;VINE_REGISTRY&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;consule &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;VINE_TRANSPORT&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;rabbitmq &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;VINE_BROKER&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;kafka service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ’ä»¶é€‰é¡¹&#34;&gt;æ’ä»¶é€‰é¡¹&lt;/h2&gt;
&lt;p&gt;æˆ–è€…ä½ å¯ä»¥å°†æ’ä»¶è®¾ç½®åœ¨é€‰é¡¹ä¸­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;package&lt;/span&gt; main

&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; (
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/vine&amp;#34;&lt;/span&gt;

    &lt;span style=&#34;color:#6272a4&#34;&gt;// consul registry
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/plugins/registry/consul&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#6272a4&#34;&gt;// rabbitmq transport
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/plugins/transport/rabbitmq&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#6272a4&#34;&gt;// kafka broker
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;github.com/vine-io/plugins/broker/kafka&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;main&lt;/span&gt;() {
    registry &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; consul.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewRegistry&lt;/span&gt;()
    broker &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; kafka.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewBroker&lt;/span&gt;()
    transport &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; rabbitmq.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewTransport&lt;/span&gt;()

    service &lt;span style=&#34;color:#ff79c6&#34;&gt;:=&lt;/span&gt; vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;NewService&lt;/span&gt;(
        vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Name&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;greeter&amp;#34;&lt;/span&gt;),
        vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Registry&lt;/span&gt;(registry),
        vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Broker&lt;/span&gt;(broker),
        vine.&lt;span style=&#34;color:#50fa7b&#34;&gt;Transport&lt;/span&gt;(transport),
    )

    service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Init&lt;/span&gt;()

    service.&lt;span style=&#34;color:#50fa7b&#34;&gt;Run&lt;/span&gt;()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¼–å†™æ’ä»¶&#34;&gt;ç¼–å†™æ’ä»¶&lt;/h2&gt;
&lt;p&gt;æ’ä»¶æ˜¯ä¸€ä¸ªå»ºç«‹åœ¨ Go æ¥å£ä¸Šçš„æ¦‚å¿µã€‚æ¯ä¸ªåŒ…éƒ½ç»´æŠ¤ä¸€ä¸ªé«˜çº§æ¥å£æŠ½è±¡ã€‚åªéœ€å®ç°æ¥å£å¹¶å°†å…¶ä½œä¸ºæœåŠ¡é€‰é¡¹ä¼ é€’ç»™å®ƒå³å¯.&lt;/p&gt;
&lt;p&gt;æœåŠ¡å‘ç°æ¥å£ç§°ä¸º &lt;a href=&#34;https://pkg.go.dev/github.com/vine-io/vine/service/registry#Registry&#34;&gt;Registry&lt;/a&gt;. å®ç°æ­¤æ¥å£çš„ä»»ä½•å†…å®¹éƒ½å¯ä»¥ç”¨ä½œ &lt;strong&gt;Registry&lt;/strong&gt;ã€‚è¿™åŒæ ·é€‚ç”¨äºå…¶ä»–åŒ….&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;type&lt;/span&gt; Registry &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;interface&lt;/span&gt; {
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Init&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;Option) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Options&lt;/span&gt;() Options
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Register&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Service, &lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;RegisterOption) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Deregister&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Service, &lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;DeregisterOption) &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;
	&lt;span style=&#34;color:#50fa7b&#34;&gt;GetService&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;GetOption) ([]&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Service, &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;)
	&lt;span style=&#34;color:#50fa7b&#34;&gt;ListServices&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;ListOption) ([]&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;Service, &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;)
	&lt;span style=&#34;color:#50fa7b&#34;&gt;Watch&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;WatchOption) (Watcher, &lt;span style=&#34;color:#8be9fd&#34;&gt;error&lt;/span&gt;)
	&lt;span style=&#34;color:#50fa7b&#34;&gt;String&lt;/span&gt;() &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥é˜… &lt;a href=&#34;https://github.com/vine-io/plugins&#34;&gt;plugins&lt;/a&gt; å¯ä»¥æ›´å¥½åœ°äº†è§£å®ç°ç»†èŠ‚ã€‚&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
